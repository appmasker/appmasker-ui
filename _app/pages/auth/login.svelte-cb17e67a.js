import{S as t,i as s,s as e,a3 as a,e as n,j as r,c as $,a as o,m as c,d as i,b as l,f as u,o as f,x as m,u as g,v as p,ac as d,ad as h,G as v,I as x,ax as b,a5 as w,a7 as k,k as y,n as j,a2 as I,J as q,t as E,g as L}from"../../chunks/vendor-050d8cbf.js";import{b as T,g as D}from"../../chunks/api-utils-e88dc490.js";import{s as P}from"../../chunks/user.state-7cf1189d.js";import"../../chunks/singletons-bb9012b7.js";function R(t){let s;return{c(){s=E("Log In")},l(t){s=L(t,"Log In")},m(t,e){u(t,s,e)},d(t){t&&i(s)}}}function S(t){let s;return{c(){s=E("Register")},l(t){s=L(t,"Register")},m(t,e){u(t,s,e)},d(t){t&&i(s)}}}function V(t){let s,e,a,d,E,L,T,D,P,V,F;function G(s){t[3](s)}let J={required:!0,type:"email",autofocus:!0,labelText:"Email"};function M(s){t[4](s)}void 0!==t[0]&&(J.value=t[0]),s=new h({props:J}),v.push((()=>x(s,"value",G)));let O={required:!0,labelText:"Password"};return void 0!==t[1]&&(O.value=t[1]),d=new b({props:O}),v.push((()=>x(d,"value",M))),D=new w({props:{type:"submit",$$slots:{default:[R]},$$scope:{ctx:t}}}),V=new k({props:{kind:"tertiary",href:"/auth/signup",$$slots:{default:[S]},$$scope:{ctx:t}}}),{c(){r(s.$$.fragment),a=y(),r(d.$$.fragment),L=y(),T=n("div"),r(D.$$.fragment),P=y(),r(V.$$.fragment),this.h()},l(t){c(s.$$.fragment,t),a=j(t),c(d.$$.fragment,t),L=j(t),T=$(t,"DIV",{class:!0});var e=o(T);c(D.$$.fragment,e),P=j(e),c(V.$$.fragment,e),e.forEach(i),this.h()},h(){l(T,"class","actions-row")},m(t,e){f(s,t,e),u(t,a,e),f(d,t,e),u(t,L,e),u(t,T,e),f(D,T,null),I(T,P),f(V,T,null),F=!0},p(t,a){const n={};!e&&1&a&&(e=!0,n.value=t[0],q((()=>e=!1))),s.$set(n);const r={};!E&&2&a&&(E=!0,r.value=t[1],q((()=>E=!1))),d.$set(r);const $={};32&a&&($.$$scope={dirty:a,ctx:t}),D.$set($);const o={};32&a&&(o.$$scope={dirty:a,ctx:t}),V.$set(o)},i(t){F||(m(s.$$.fragment,t),m(d.$$.fragment,t),m(D.$$.fragment,t),m(V.$$.fragment,t),F=!0)},o(t){g(s.$$.fragment,t),g(d.$$.fragment,t),g(D.$$.fragment,t),g(V.$$.fragment,t),F=!1},d(t){p(s,t),t&&i(a),p(d,t),t&&i(L),t&&i(T),p(D),p(V)}}}function F(t){let s,e;return s=new d({props:{$$slots:{default:[V]},$$scope:{ctx:t}}}),s.$on("submit",t[2]),{c(){r(s.$$.fragment)},l(t){c(s.$$.fragment,t)},m(t,a){f(s,t,a),e=!0},p(t,e){const a={};35&e&&(a.$$scope={dirty:e,ctx:t}),s.$set(a)},i(t){e||(m(s.$$.fragment,t),e=!0)},o(t){g(s.$$.fragment,t),e=!1},d(t){p(s,t)}}}function G(t){let s,e,d;return e=new a({props:{$$slots:{default:[F]},$$scope:{ctx:t}}}),{c(){s=n("div"),r(e.$$.fragment),this.h()},l(t){s=$(t,"DIV",{class:!0});var a=o(s);c(e.$$.fragment,a),a.forEach(i),this.h()},h(){l(s,"class","auth-container svelte-q65tk9")},m(t,a){u(t,s,a),f(e,s,null),d=!0},p(t,[s]){const a={};35&s&&(a.$$scope={dirty:s,ctx:t}),e.$set(a)},i(t){d||(m(e.$$.fragment,t),d=!0)},o(t){g(e.$$.fragment,t),d=!1},d(t){t&&i(s),p(e)}}}function J(t,s,e){let a,n;return[a,n,function(){T("/auth/login","POST",{email:a,password:n}).then((t=>{D("/")})).catch((t=>{P.set({message:(null==t?void 0:t.message)||"Make sure your credentials are correct",title:"Login Failed"})}))},function(t){a=t,e(0,a)},function(t){n=t,e(1,n)}]}export default class extends t{constructor(t){super(),s(this,t,J,G,e,{})}}
