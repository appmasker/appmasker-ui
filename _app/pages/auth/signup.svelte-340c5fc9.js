import{S as t,i as s,s as e,a3 as a,e as n,j as r,c as $,a as o,m as c,d as l,b as i,f as u,o as f,x as m,u as p,v as g,ac as d,ad as h,G as v,I as x,ax as b,a5 as w,a7 as y,k,n as j,a2 as I,J as S,t as q,g as E}from"../../chunks/vendor-050d8cbf.js";import{b as T,g as D}from"../../chunks/api-utils-e88dc490.js";import{s as L}from"../../chunks/user.state-7cf1189d.js";import"../../chunks/singletons-bb9012b7.js";function P(t){let s;return{c(){s=q("Sign Up")},l(t){s=E(t,"Sign Up")},m(t,e){u(t,s,e)},d(t){t&&l(s)}}}function U(t){let s;return{c(){s=q("Log In")},l(t){s=E(t,"Log In")},m(t,e){u(t,s,e)},d(t){t&&l(s)}}}function V(t){let s,e,a,d,q,E,T,D,L,V,F;function G(s){t[3](s)}let J={type:"email",placeholder:"your@email.com",autofocus:!0,required:!0,labelText:"Email"};function O(s){t[4](s)}void 0!==t[0]&&(J.value=t[0]),s=new h({props:J}),v.push((()=>x(s,"value",G)));let R={required:!0,placeholder:"create a password",labelText:"Password"};return void 0!==t[1]&&(R.value=t[1]),d=new b({props:R}),v.push((()=>x(d,"value",O))),D=new w({props:{type:"submit",$$slots:{default:[P]},$$scope:{ctx:t}}}),V=new y({props:{kind:"tertiary",href:"/auth/login",$$slots:{default:[U]},$$scope:{ctx:t}}}),{c(){r(s.$$.fragment),a=k(),r(d.$$.fragment),E=k(),T=n("div"),r(D.$$.fragment),L=k(),r(V.$$.fragment),this.h()},l(t){c(s.$$.fragment,t),a=j(t),c(d.$$.fragment,t),E=j(t),T=$(t,"DIV",{class:!0});var e=o(T);c(D.$$.fragment,e),L=j(e),c(V.$$.fragment,e),e.forEach(l),this.h()},h(){i(T,"class","actions-row")},m(t,e){f(s,t,e),u(t,a,e),f(d,t,e),u(t,E,e),u(t,T,e),f(D,T,null),I(T,L),f(V,T,null),F=!0},p(t,a){const n={};!e&&1&a&&(e=!0,n.value=t[0],S((()=>e=!1))),s.$set(n);const r={};!q&&2&a&&(q=!0,r.value=t[1],S((()=>q=!1))),d.$set(r);const $={};32&a&&($.$$scope={dirty:a,ctx:t}),D.$set($);const o={};32&a&&(o.$$scope={dirty:a,ctx:t}),V.$set(o)},i(t){F||(m(s.$$.fragment,t),m(d.$$.fragment,t),m(D.$$.fragment,t),m(V.$$.fragment,t),F=!0)},o(t){p(s.$$.fragment,t),p(d.$$.fragment,t),p(D.$$.fragment,t),p(V.$$.fragment,t),F=!1},d(t){g(s,t),t&&l(a),g(d,t),t&&l(E),t&&l(T),g(D),g(V)}}}function F(t){let s,e;return s=new d({props:{$$slots:{default:[V]},$$scope:{ctx:t}}}),s.$on("submit",t[2]),{c(){r(s.$$.fragment)},l(t){c(s.$$.fragment,t)},m(t,a){f(s,t,a),e=!0},p(t,e){const a={};35&e&&(a.$$scope={dirty:e,ctx:t}),s.$set(a)},i(t){e||(m(s.$$.fragment,t),e=!0)},o(t){p(s.$$.fragment,t),e=!1},d(t){g(s,t)}}}function G(t){let s,e,d;return e=new a({props:{$$slots:{default:[F]},$$scope:{ctx:t}}}),{c(){s=n("div"),r(e.$$.fragment),this.h()},l(t){s=$(t,"DIV",{class:!0});var a=o(s);c(e.$$.fragment,a),a.forEach(l),this.h()},h(){i(s,"class","auth-container svelte-q65tk9")},m(t,a){u(t,s,a),f(e,s,null),d=!0},p(t,[s]){const a={};35&s&&(a.$$scope={dirty:s,ctx:t}),e.$set(a)},i(t){d||(m(e.$$.fragment,t),d=!0)},o(t){p(e.$$.fragment,t),d=!1},d(t){t&&l(s),g(e)}}}function J(t,s,e){let a,n;return[a,n,function(){T("/auth/signup","POST",{email:a,password:n}).then((t=>{D("/")})).catch((t=>{L.set({message:t.message,title:"Registration Failed"})}))},function(t){a=t,e(0,a)},function(t){n=t,e(1,n)}]}export default class extends t{constructor(t){super(),s(this,t,J,G,e,{})}}
